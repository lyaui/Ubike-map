(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var l=a[s];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/my-project/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=a("bc3a"),o=a.n(n),i=a("a7fe"),s=a.n(i),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"row no-gutters"},[a("div",{staticClass:"toolbox col-sm-3 p-2 bg-white"},[a("div",{staticClass:"form-group d-flex"},[a("label",{staticClass:"col-form-label mr-2 text-right",attrs:{for:"city"}},[e._v("縣市")]),a("div",{staticClass:"flex-fill"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected.city,expression:"selected.city"}],staticClass:"form-control",attrs:{id:"city"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selected,"city",t.target.multiple?a:a[0])}}},e._l(e.cityMenu,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)])]),a("div",{staticClass:"form-group d-flex"},[a("label",{staticClass:"col-form-label mr-2 text-right",attrs:{for:"dist"}},[e._v("地區")]),a("div",{staticClass:"flex-fill"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.selected.area,expression:"selected.area"}],staticClass:"form-control",attrs:{id:"dist"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.selected,"area",t.target.multiple?a:a[0])}}},e._l(e.areaMenu,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)])])]),e._m(0)])])},c=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-9"},[a("div",{attrs:{id:"map"}})])}],u=(a("99af"),a("4de4"),a("4160"),a("d81d"),a("b0c0"),a("b64b"),a("159b"),a("cf0d")),d=a("e11e"),p=a.n(d),f={name:"Ubike-map",data:function(){return{cityMenu:[],areaMenu:[],ubikes:[],selected:{city:"臺北市",area:"萬華區"},osmMap:{}}},computed:{selectedArea:function(){var e=this;return e.ubikes.filter((function(t){return t.sarea===e.selected.area}))}},watch:{selectedArea:function(){var e=this;e.updateMarkers()}},methods:{updateMarkers:function(){var e=this;e.osmMap.eachLayer((function(t){t instanceof p.a.Marker&&e.osmMap.removeLayer(t)})),e.selectedArea.forEach((function(t){p.a.marker([t.lat,t.lng]).addTo(e.osmMap).bindPopup('<p><strong style="font-size: 20px;">'.concat(t.sna,'</strong></p>\n <strong style="font-size: 16px; color: #d45345;">可租借車輛剩餘：').concat(t.sbi," 台</strong><br>\n 可停空位剩餘: ").concat(t.bemp,"<br>\n <small>最後更新時間: ").concat(t.mday,"</small>"))})),e.osmMap.panTo([e.selectedArea[0].lat,e.selectedArea[0].lng])}},created:function(){var e=this;e.cityMenu=[u[0].name],e.areaMenu=u[0].districts.map((function(e){return e.name}));var t="https://tcgbusfs.blob.core.windows.net/blobyoubike/YouBikeTP.json";e.$http.get(t).then((function(t){e.ubikes=t.data.retVal,e.ubikes=Object.keys(e.ubikes).map((function(t){return e.ubikes[t]}))}))},mounted:function(){var e=this;e.osmMap=p.a.map("map").setView([25.041956,121.508791],16),p.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"your.mapbox.access.token"}).addTo(e.osmMap)}},m=f,v=(a("5c0b"),a("2877")),b=Object(v["a"])(m,l,c,!1,null,null,null),g=b.exports;r["a"].use(s.a,o.a),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(g)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var r=a("9c0c"),n=a.n(r);n.a},"9c0c":function(e,t,a){},cf0d:function(e){e.exports=JSON.parse('[{"sort":1,"id":"0000","name":"臺北市","districts":[{"sort":10,"id":1,"name":"中正區","latitude":25.044214,"longitude":121.524725,"zipCode":100},{"sort":12,"id":2,"name":"大同區","latitude":25.066128,"longitude":121.51558,"zipCode":103},{"sort":2,"id":3,"name":"中山區","latitude":25.064449,"longitude":121.533668,"zipCode":104},{"sort":8,"id":4,"name":"松山區","latitude":25.049878,"longitude":121.577233,"zipCode":105},{"sort":4,"id":5,"name":"大安區","latitude":25.026511,"longitude":121.534346,"zipCode":106},{"sort":11,"id":6,"name":"萬華區","latitude":25.035047,"longitude":121.499776,"zipCode":108},{"sort":5,"id":7,"name":"信義區","latitude":25.033427,"longitude":121.566911,"zipCode":110},{"sort":7,"id":8,"name":"士林區","latitude":25.092897,"longitude":121.519771,"zipCode":111},{"sort":6,"id":9,"name":"北投區","latitude":25.132377,"longitude":121.502949,"zipCode":112},{"sort":1,"id":10,"name":"內湖區","latitude":25.06936,"longitude":121.588996,"zipCode":114},{"sort":9,"id":11,"name":"南港區","latitude":25.054527,"longitude":121.606793,"zipCode":115},{"sort":3,"id":12,"name":"文山區","latitude":24.989503,"longitude":121.5702,"zipCode":116}]}]')}});
//# sourceMappingURL=app.0e916ac0.js.map